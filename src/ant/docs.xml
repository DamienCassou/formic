<?xml version="1.0" encoding="UTF-8"?>
<!--
 Author: Eric Van Dewoestine
-->
<project name="docs" default="docs" basedir="../..">

  <!--
    - Target for generating the javadocs.
    -->
  <target name="javadoc" depends="init"
      description="Generates the javadocs from the src.">
    <mkdir dir="build/doc/api"/>

    <javadoc packagenames="org.formic" destdir="build/doc/api"
        stylesheetfile="src/ant/javadoc_stylesheet.css">
      <classpath refid="classpath"/>
      <fileset dir="src">
        <include name="**/*.java"/>
        <exclude name="org/formic/**/impl/**/*.java"/>
      </fileset>
    </javadoc>
  </target>

  <!--
    - Runs forrest to generate the docs.
    -->
  <target name="docs" depends="init" description="Builds the documentation.">
    <exec executable="${forrest.home}/bin/forrest" failonerror="true" dir=".">
      <arg line="site"/>
    </exec>
    <xslt in="src/forrest/content/xdocs/site.xml"
        out="build/sitemap.xml"
        style="src/ant/xsl/forrest_site-google_sitemap.xsl"/>
    <gzip src="build/sitemap.xml" destfile="build/site/sitemap.xml.gz"/>
  </target>

</project>
